<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Insert title here</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet"  	href="/omsc/jti/css/lib/kendo/kendo.common.min.css" />
<link rel="stylesheet"  	href="/omsc/jti/css/lib/kendo/kendo.default.min.css" />
<!-- <script src="/js/lib/jquery/jquery-1.11.2.min.js"></script> -->
<script src="/omsc/js/lib/kendo/kendo.all.min.js"></script>
<script type="text/javascript">
// 	function init(){
// 		//console.log("start!!!");
// 		var top = $("#top");
// 		for(var info in attr){
// 			var div = $('<div style="border: 1px solid; float: left; width: 12%; height: 80px; margin-top: 50px; margin-left: 50px;">' + attr[info] + '</div>');
// 			div.attr("info", info);
// 			top.append(div);
// 		}
// 		//console.log("end!!!");
// 	}
// 	var attr = [ "거주인구", "유동인구", "대학유무", "유흥가유무", "역세권유무", "거주인구" ]
</script>
</head>
<body>
	<div style="border: 2px solid; width: 100%; height: 80px; postion: fixed; margin-top:20px;">
	<h1>지역정보 구성</h1>
	</div>
	<div id="top"></div>
	<div class="middle" style="border: 1px solid; float: left; width: 90%; height: 50px; margin-left: 50px; margin-top:15px">인구정보</div>

	<div style="width:600px;height:700px; margin:10px; border:1px solid #333333;display:inline">
		<div style="border: 1px solid; width:45%;  height:300px; float:left;margin-right:20px;" >
			<div class="chart left"></div>
		</div>
		<div style="border: 1px solid; width:45%; height: 300px; float:left;">
			<div class="chart right"></div>
		</div>
	</div>
	<script>

		function createChart() {
			
			var sexAge = [ {
				"sex" : "20대 이하",
				"man" : 13,
				"extremum" : "MIN: 13",
				"female" : 14
			}, {
				"sex" : "30대",
				"man" : 22,
				"female" : 13
			}, {
				"sex" : "40대",
				"man" : 24,
				"female" : 12
			}, {
				"sex" : "50대",
				"man" : 27,
				"extremum" : "MAX: 27",
				"female" : 9
			}, {
				"sex" : "60대 이상",
				"man" : 26,
				"female" : 8
			}];
			
			var time = [ {
				"time" : "7~10시",
				"flowpop" : 300,
				"extremum" : "MIN: 13",
				
			}, {
				"time" : "10~12시",
				"flowpop" : 500,
				
			}, {
				"time" : "12~14시",
				"flowpop" : 700,
				
			}, {
				"time" : "14~18시",
				"flowpop" : 900,
				"extremum" : "MAX: 27",
				
			}, {
				"time" : "18~21시",
				"flowpop" : 600,
				
			}];
			
			$(".chart.left").kendoChart({
				dataSource : {
					data : sexAge
/* 					sort : {
						field : "year",
						dir : "asc"
					} */
				},
				title : {
					text : "성/연령별 구성"
				},
				series : [ {
					field : "man",
					name : "남자"
				}, {
					field : "female",
					name : "여자"
				} ],
				categoryAxis : {
					field : "sex",
					majorGridLines : {
						visible : false
					}
				},
				valueAxis : {
					line : {
						visible : false
					}
				},
				tooltip : {
					visible : true,
					format : "N0"
				},
			    chartArea: {
			        width: 250,
			        height: 250
			    }
			});


			$(".chart.right").kendoChart({
				dataSource : {
					data : time
				},
				title : {
					text : "시간대별 추이"
				},
				legend : {
					position : "bottom"
				},
				seriesDefaults : {
					type : "line"
				},
				series : [ {
					field : "flowpop",
					name : "유동인구",
					noteTextField : "extremum",
					notes : {
						label : {
							position : "outside"
						},
						position : "bottom"
					}
				}],
				valueAxis : {
					line : {
						visible : false
					}
				},
				categoryAxis : {
					field : "time",
					majorGridLines : {
						visible : false
					}
				},
				tooltip : {
					visible : true,
					template : "#= series.name #: #= value #"
				},
			    chartArea: {
			        width: 250,
			        height: 250
			    }
			});
		}
		$(document).ready(function() {
			createChart();
		});
// 		$(document).bind("kendo:skinChange", createChart);
	</script>


</body>
</html>